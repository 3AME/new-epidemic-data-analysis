<!DOCTYPE html>

<head>
    <meta charset="utf-8"/>
    <title>epidemic-data-analysis | CHINA </title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta content="" name="description"/>
    <meta content="" name="author"/>
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"
          type="text/css">
    <link href="../assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="../assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css">
    <link href="../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="../assets/global/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css">
    <link href="../assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"/>
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN THEME STYLES -->
    <link href="../assets/global/css/components-rounded.css" id="style_components" rel="stylesheet" type="text/css"/>
    <link href="../assets/global/css/plugins.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/admin/layout4/css/layout.css" rel="stylesheet" type="text/css"/>
    <link id="style_color" href="../assets/admin/layout4/css/themes/light.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/admin/layout4/css/custom.css" rel="stylesheet" type="text/css"/>
    <!-- END THEME STYLES -->
    <link rel="shortcut icon" href="favicon.ico"/>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <script type="text/javascript" src="../echart/js/world.js"></script>
    <script type="text/javascript" src="../echart/js/china.js"></script>
</head>

<body class="page-header-fixed page-sidebar-closed-hide-logo">
<!-- BEGIN HEADER -->
<div style="margin-top: 10px;" class="page-header navbar navbar-fixed-top">
    <!-- BEGIN HEADER INNER -->
    <div class="page-header-inner">
        <!-- BEGIN LOGO -->
        <div class="page-logo">
            <a href="index.html" style="font-size: 18px;margin-top: 18px;">
                <img style="width: 8em;height: 3em;" src="../assets/admin/layout4/icons/logo_1.2.png" alt="logo"
                     class="logo-default"/>
            </a>
            <div class="menu-toggler sidebar-toggler">
                <!-- DOC: Remove the above "hide" to enable the sidebar toggler button on header -->
            </div>
        </div>
        <!-- END LOGO -->
        <!-- BEGIN RESPONSIVE MENU TOGGLER -->
        <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse"
           data-target=".navbar-collapse">
        </a>
        <!-- END RESPONSIVE MENU TOGGLER -->
        <!-- BEGIN PAGE TOP -->
        <div class="page-top">
        </div>
        <button style="float: right;margin-top: 2%;margin-right: 1%;"><a href="../CH-ZN/CHINA.html">Chinese</a></button>
        <!-- END TOP NAVIGATION MENU -->
    </div>
    <!-- END PAGE TOP -->
</div>
<!-- END HEADER INNER -->
</div>
<!-- END HEADER -->
<div class="clearfix">
</div>
<!-- BEGIN CONTAINER -->
<div class="page-container">
    <!-- BEGIN SIDEBAR -->
    <div class="page-sidebar-wrapper">
        <div class="page-sidebar navbar-collapse collapse" style="color: black;margin-top: 50px;">
            <ul class="page-sidebar-menu " data-keep-expanded="false" data-auto-scroll="true"
                data-slide-speed="200">
                <li class="start ">
                    <a href="index.html">
                        <!-- <i class="icon-home"></i> -->
                        <img style="width: 20px;height: 20px;" src="../assets/admin/layout4/icons/home.png"/>
                        <span class="title">Home</span>
                    </a>
                </li>
                <li>
                    <a href="world_epidemic_situation.html"><img style="width: 20px;height: 20px;"
                                                                 src="../assets/admin/layout4/icons/world.png"/>
                        <span class="title">World epidemic situation</span> </a>
                    <!-- <a  href="world_epidemic_situation.html">
                        World epidemic situation</a> -->
                </li>
                <li>
                    <a href="CHINA.html">
                        <img style="width: 20px;height: 20px;" src="../assets/admin/layout4/icons/中国地图.png"/>
                        <span class="title">China's epidemic situation </span>
                    </a>
                </li>
                <li>
                    <a href="US.html">
                        <img style="width: 20px;height: 20px;" src="../assets/admin/layout4/icons/美国 (1).png"/>
                        <span class="title">U.S. epidemic situation</span></a>
                </li>
                <li>
                    <a href="Analysis_and_forecasting.html">
                        <img style="width: 20px;height: 20px;" src="../assets/admin/layout4/icons/国家（pitch on）.png"/>
                        <span class="title">Analysis and forecasting</span> </a>
                </li>
                <li>
                    <a href="public_opinion_and_epidemic_situation.html">
                        <img style="width: 20px;height: 20px;" src="../assets/admin/layout4/icons/virus.png"/>
                        <span class="title">Public opinion</span>
                    </a>
                </li>
                <li>
                    <a href="version.html">
                        <img style="width: 20px;height: 20px;" src="../assets/admin/layout4/icons/历史.png"/>
                        <span class="title">Historic versions</span>
                    </a>
                </li>
                <li>
                    <a href="about_us.html">
                        <img style="width: 20px;height: 20px;" src="../assets/admin/layout4/icons/about us.png"/>
                        <span class="title">About us</span>
                    </a>
                </li>
            </ul>
            <!-- END SIDEBAR MENU -->
        </div>
    </div>
    <!-- END SIDEBAR -->
    <!-- BEGIN CONTENT -->
    <div class="page-content-wrapper">
        <div class="page-content">
            <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->
            <div class="modal fade" id="portlet-config" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 aria-hidden="true">
            </div>
            <!-- /.modal -->
            <!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->
            <!-- BEGIN PAGE HEADER-->
            <!-- BEGIN PAGE HEAD -->
            <div class="page-head">
                <!-- BEGIN PAGE TITLE -->
                <div class="page-title">
                    <h1>CHINA <small> CHINA </small></h1>
                </div>
                <!-- END PAGE TITLE -->
            </div>
            <!-- END PAGE HEAD -->
            <!-- 顶部四个数据展示begin -->
            <div class="row margin-top-10">
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <div class="dashboard-stat2">
                        <div class="display">
                            <div class="number">
                                <h3 class="font-green-sharp">New cases
                                    <!-- 填写New cases today -->
                                </h3>
                                <small>18</small>
                            </div>
                        </div>
                        <!-- 可以做一个类似这样的条形显示数据比例，看怎么填数据 -->
                        <div class="progress-info">
                            <div class="progress">
                                    <span style="width: 100%;" class="progress-bar progress-bar-success green-sharp">
                                        <!-- <span class="sr-only">76% progress</span> -->
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <div class="dashboard-stat2">
                        <div class="display">
                            <div class="number">
                                <h3 class="font-red-haze">Total cases</h3>
                                <small>85190</small>
                            </div>
                        </div>
                        <div class="progress-info">
                            <div class="progress">
                                    <span style="width: 100%;" class="progress-bar progress-bar-success red-haze">
                                        <!-- <span class="sr-only">85% change</span> -->
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <div class="dashboard-stat2">
                        <div class="display">
                            <div class="number">
                                <h3 class="font-blue-sharp">Total cures</h3>
                                <small>80026</small>
                            </div>
                        </div>
                        <div class="progress-info">
                            <div class="progress">
                                    <span style="width: 100%;" class="progress-bar progress-bar-success blue-sharp">
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <div class="dashboard-stat2">
                        <div class="display">
                            <div class="number">
                                <h3 class="font-purple-soft">Worst area</h3>
                                <!-- 填写目前疫情最严重的省份 -->
                                <small>BeiJing</small>
                            </div>
                        </div>
                        <div class="progress-info">
                            <div class="progress">
                                    <span style="width: 100%;" class="progress-bar progress-bar-success purple-soft">
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 顶部四个数据展示end -->

            <div class="row">
                <!-- 中国大陆整体疫情展示图begin -->
                <div class="col-md-4">

                    <div class="portlet box" style="overflow: auto;background-color: white;">
                        <div class="portlet-body">
                            <div id="vmap_world" class="Charts" style="height: 45em;">
                                <!-- 2333 -->
                                <div id="myCarousel" class="carousel image-carousel slide">
                                    <div class="carousel-inner">
                                        <div class="active item">
                                            <a
                                                    href="http://pic3.zhimg.com/v2-b6f4fbb627e5e5a2d8f4215d57f9fc57_1200x500.jpg"><img
                                                    style="width:auto;height:auto;max-width:100%;max-height:100%;"
                                                    src="http://pic3.zhimg.com/v2-b6f4fbb627e5e5a2d8f4215d57f9fc57_1200x500.jpg"
                                                    class="img-responsive" alt=""></a>
                                            <div class="carousel-caption">
                                                <h4>
                                                    VIRUS
                                                </h4>
                                                <!-- <p>
                                                    Cras justo odio, dapibus ac facilisis in, egestas eget quam.
                                                </p> -->
                                            </div>
                                        </div>
                                        <div class="item">
                                            <a
                                                    href="http://pic2.zhimg.com/v2-947324cb6cdec6dae23ef2306dcf9557_1200x500.jpg">
                                                <img style="width:auto;height:auto;max-width:100%;max-height:100%;"
                                                     src="http://pic2.zhimg.com/v2-947324cb6cdec6dae23ef2306dcf9557_1200x500.jpg"
                                                     class="img-responsive" alt=""></a>
                                            <div class="carousel-caption">
                                                <h4>
                                                    COVID-19
                                                </h4>
                                                <!-- <p>
                                                    Cras justo odio, dapibus ac facilisis in, egestas eget quam.
                                                </p> -->
                                            </div>
                                        </div>
                                        <div class="item">
                                            <a
                                                    href="http://img2.chinadaily.com.cn/images/202006/03/5ed6f96ea310a8b2fa4e46fa.jpeg">
                                                <img style="width:auto;height:auto;max-width:100%;max-height:100%;"
                                                     src="http://img2.chinadaily.com.cn/images/202006/03/5ed6f96ea310a8b2fa4e46fa.jpeg"
                                                     class="img-responsive" alt=""></a>
                                            <div class="carousel-caption">
                                                <h4>
                                                    Medical staff to test
                                                </h4>
                                                <!-- <p>
                                                    Cras justo odio, dapibus ac facilisis in, egestas eget quam.
                                                </p> -->
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Carousel nav -->
                                    <a class="carousel-control left" href="#myCarousel" data-slide="prev">
                                        <i class="m-icon-big-swapleft m-icon-white"></i>
                                    </a>
                                    <a class="carousel-control right" href="#myCarousel" data-slide="next">
                                        <i class="m-icon-big-swapright m-icon-white"></i>
                                    </a>
                                    <ol class="carousel-indicators">
                                        <li data-target="#myCarousel" data-slide-to="0" class="active">
                                        </li>
                                        <li data-target="#myCarousel" data-slide-to="1">
                                        </li>
                                        <li data-target="#myCarousel" data-slide-to="2">
                                        </li>
                                    </ol>
                                </div>
                                <div class="news-blocks">
                                    <h3>
                                        <a
                                                href="https://www.aljazeera.com/news/2020/06/coronavirus-cases-exceed-8-million-worldwide-live-updates-200616003326282.html">
                                            Beijing shuts schools over new coronavirus outbreak: Live updates
                                        </a>
                                    </h3>
                                    <div class="news-block-tags">
                                        <strong>Beijing</strong>
                                        <!-- <em>2 hours ago</em> -->
                                    </div>
                                    <p>
                                        <img style="width: 120px;height: 100px;" class="news-block-img pull-right"
                                             src="../assets/admin/layout4/img/news_beijing.png" alt="">Beijing's
                                        education commission has ordered the closure of the capital's schools
                                        again following a new outbreak of the coronavirus.
                                        The steroid dexamethasone has been found to save the lives of one-third
                                        of the most serious COVID-19 cases, according to trial results by the
                                        University of Oxford, hailed as a "major breakthrough" in the fight
                                        against the disease.More than 8 million people have been confirmed to
                                        have the coronavirus around the world. Nearly 4 million have recovered,
                                        while at least 438,000 have died, according to data compiled by Johns
                                        Hopkins University. The US, Brazil and the UK have reported the most
                                        deaths.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <!-- Page content goes here -->
                    <!-- BEGIN WORLD PORTLET-->
                    <div class="portlet box grey-cascade">
                        <div class="portlet-body">
                            <div id="vmap_world" class="Charts" style="height: 45em;">
                                <div id="CHINA_CHART" style="width:100%;height:45em;margin: auto;"></div>
                            </div>
                        </div>
                    </div>
                    <!-- END WORLD PORTLET-->
                </div>
                <!-- 中国大陆整体疫情展示图end -->
                <!-- 新增病例折线图/河流图begin -->
                <div class="col-md-12 col-sm-12">
                    <!-- BEGIN PORTLET-->
                    <div class="portlet light ">
                        <div class="portlet-title">
                            <div class="caption caption-md">
                                <i class="icon-bar-chart theme-font-color hide"></i>
                                <span class="caption-subject theme-font-color bold uppercase">New cases per
                                        week</span>
                            </div>
                        </div>
                        <div class="portlet-body">
                            <div class="row list-separated">
                                <div id="china_scatter" style="width: 107%;height:56.25em;"></div>
                            </div>
                        </div>
                    </div>
                    <!-- END PORTLET-->
                </div>
                <!-- 新增病例折线图/河流图end -->
                <!-- 总体趋势图 begin -->
                <div class="col-md-6 col-sm-12">
                    <!-- BEGIN PORTLET-->
                    <div class="portlet light ">
                        <div class="portlet-title">
                            <div class="caption caption-md">
                                <i class="icon-bar-chart theme-font-color hide"></i>
                                <span class="caption-subject theme-font-color bold uppercase">Line chart of China's
                                        epidemic trend</span>
                            </div>
                        </div>
                        <div class="portlet-body">
                            <div class="row list-separated">
                                <div id="LineChart_China" style="width: 100%;height:44em;"></div>
                            </div>
                        </div>
                    </div>
                    <!-- END PORTLET-->
                </div>
                <!-- 总体趋势图 end -->
                <div class="col-md-6 col-sm-12">
                    <!-- BEGIN PORTLET-->
                    <div class="portlet light ">
                        <div class="portlet-title">
                            <div class="caption caption-md">
                                <i class="icon-bar-chart theme-font-color hide"></i>
                                <span class="caption-subject theme-font-color bold uppercase">MORTALITY_RATE</span>
                            </div>
                        </div>
                        <div class="portlet-body">
                            <div class="row list-separated">
                                <div id="china_mortality_rate" style="width: 100%;height:44em; margin:auto;"></div>
                            </div>
                        </div>
                    </div>
                    <!-- END PORTLET-->
                </div>
<!--                <div class="col-md-6 col-sm-12">-->
<!--                    <div class="portlet box">-->
<!--                        <div class="portlet-body">-->
<!--                            <div class="tabbable tabs-left">-->
<!--                                <ul class="nav nav-tabs">-->
<!--                                    <li>-->
<!--                                        <a href="#tab_6_2" data-toggle="tab">-->
<!--                                            MORTALITY_RATE </a>-->
<!--                                    </li>-->
<!--                                </ul>-->
<!--                                <div class="tab-content">-->
<!--                                    <div class="tab-pane fade" id="tab_6_2">-->
<!--                                        <div id="china_mortality_rate" style="width: 100%;; height: 59.5em"></div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        &lt;!&ndash; </div> &ndash;&gt;-->
<!--                    </div>-->
<!--                </div>-->
            </div>
            <!-- END PAGE CONTENT INNER -->
            <!-- END PAGE CONTENT-->
        </div>
    </div>
    <!-- END CONTENT -->
</div>
<!-- END CONTAINER -->
<!-- BEGIN FOOTER -->
<div class="page-footer">
    <div class="scroll-to-top">
        <i class="icon-arrow-up"></i>
        Back to top
    </div>
</div>

<script type="text/javascript">

    // Chart1
    setTimeout(chinaChart, 1000);

    function chinaChart() {
        var days1 = [];
        var country1 = [];
        var data1 = [];
        var xmlHTTP1 = new XMLHttpRequest();

        var temp = [];
        xmlHTTP1.onreadystatechange = function (ev) {
            var myChart1 = echarts.init(document.getElementById('CHINA_CHART'));
            myChart1.showLoading({
                text: '数据正在努力加载...',
                textStyle: {fontSize: 30, color: '#444'},
                effectOption: {backgroundColor: 'rgba(0, 0, 0, 0)'}
            });
            if (xmlHTTP1.readyState == 4 && xmlHTTP1.status == 200) {
                var rep = JSON.parse(xmlHTTP1.responseText);
                for (var i = 0; i < rep.length; i++) {
                    if (days1.indexOf(rep[i].date) == -1) {
                        days1.push(rep[i].date);
                    }
                    if (country1.indexOf(rep[i].name) == -1) {
                        country1.push(rep[i].name);
                    }
                    temp.push(rep[i].value);
                    if (temp.length == 34) {
                        data1.push(temp);
                        temp = [];
                    }
                }

                myChart1.hideLoading();

                //表格设定
                option1 = {
                    baseOption: {
                        //时间轴
                        timeline: {
                            axisType: 'category',
                            // realtime: false,
                            // loop: false,
                            autoPlay: true,
                            playInterval: 500, //0.5s滚动一次
                            // realtime = true,
                            symbolSize: 1,
                            left: '5%',
                            right: '5%',
                            bottom: '0%',
                            width: '90%',
                            // itemStyle: {
                            //     borderWidth: 0
                            // },
                            // controlStyle: {
                            //     show: false
                            // },
                            data: days1,
                            tooltip: {
                                formatter: days1
                            },
                        },

                        tooltip: {
                            show: true,
                            formatter: function (params) {
                                return params.name + '：' + params.value
                            },
                        },
                        //热力地图设置此处可设置热力地图的颜色和变化范围
                        visualMap: {
                            type: 'piecewise',
                            pieces: [{
                                min: 10001,
                                color: '#BB0000'
                            },
                                {
                                    min: 5001,
                                    max: 10000,
                                    color: '#C62B2B' // #73240D
                                },
                                {
                                    min: 2501,
                                    max: 5000,
                                    color: '#D25555'
                                },
                                {
                                    min: 101,
                                    max: 2500,
                                    color: '#DD8080'
                                },
                                {
                                    min: 11,
                                    max: 100,
                                    color: '#E8AAAA'
                                },
                                {
                                    min: 1,
                                    max: 10,
                                    color: '#F4D5D5'
                                },
                                {
                                    value: 0,
                                    color: 'white'
                                }
                            ],
                            orient: 'vertical',
                            itemWidth: 25,
                            itemHeight: 15,
                            showLabel: true,
                            seriesIndex: [0],

                            textStyle: {
                                color: '#7B93A7'
                            },
                            bottom: '10%',
                            left: "5%",
                        },
                        //图的相对位置
                        grid: {
                            right: '5%',
                            top: '20%',
                            bottom: '10%',
                            width: '20%'
                        },
                        //右部柱状图的显示范围
                        xAxis: {
                            'type': 'log',
                            // min: 0,
                            // max: 200000,
                            show: false
                        },
                        yAxis: [{
                            inverse: true,
                            offset: '2',
                            'type': 'category',
                            data: '',
                            nameTextStyle: {
                                color: '#fff'
                            },
                            axisTick: {
                                show: false,
                            },
                            axisLabel: {
                                //rotate:45,
                                textStyle: {
                                    fontSize: 14,
                                    color: '#000000',
                                },
                                interval: 0
                            },
                            axisLine: {
                                show: false,
                                lineStyle: {
                                    color: '#333'
                                },
                            },
                            splitLine: {
                                show: false,
                                lineStyle: {
                                    color: '#333'
                                }
                            },
                        }],
                        geo: {
                            map: 'china',
                            right: '35%',
                            left: '5%',
                            label: {
                                emphasis: {
                                    show: false,
                                }
                            },
                            itemStyle: {
                                emphasis: {
                                    areaColor: '#90EE90'
                                }
                            }
                        },
                        series: [{
                            name: 'mapSer',
                            type: 'map',
                            map: 'china',
                            roam: false,
                            geoIndex: 0,
                            label: {
                                show: false,
                            },
                        },
                            {
                                'name': '',
                                'type': 'bar',
                                zlevel: 2,
                                barWidth: '40%',
                                label: {
                                    normal: {
                                        show: true,
                                        fontSize: 14,
                                        position: 'right',
                                        formatter: '{c}'
                                    }
                                },
                            }
                        ],

                    },
                    animationDurationUpdate: 3000,
                    animationEasingUpdate: 'quinticInOut',
                    options: []
                };
                // 从所有数据中筛选出当日最高的10个
                for (var n = 0; n < days1.length; n++) {

                    var res = [];
                    for (j = 0; j < data1[n].length; j++) {
                        res.push({
                            name: country1[j],
                            value: data1[n][j]
                        });
                    }
                    res.sort(function (a, b) {
                        return b.value - a.value;
                    }).slice(0, 6);

                    res.sort(function (a, b) {
                        return a.value - b.value;
                    });
                    var res1 = [];
                    var res2 = [];
                    for (t = 0; t < 10; t++) {
                        res1[t] = res[res.length - 1 - t].name;
                        res2[t] = res[res.length - 1 - t].value;
                    }
                    // console.log(res1);
                    // console.log("----------------");
                    // console.log(province);
                    option1.options.push({
                        title: [{
                            text: "China epidemic map",
                            textStyle: {
                                color: '#2D3E53',
                                fontSize: 28
                            },
                            left: "20%",
                            top: 20,
                        },
                            {
                                show: true,
                                text: 'Top 10 areas infected',
                                textStyle: {
                                    color: '#2D3E53',
                                    fontSize: 18
                                },
                                right: '10%',
                                top: '15%'
                            }
                        ],
                        yAxis: {
                            data: res1,
                        },
                        series: [{
                            type: 'map',
                            data: res
                        }, {
                            type: 'bar',
                            data: res2,

                            // 色彩方案1-------------------------------------------------------------------------
                            itemStyle: {
                                normal: {
                                    //这里是重点
                                    color: function (params) {
                                        //注意，如果颜色太少的话，后面颜色不会自动循环，最好多定义几个颜色
                                        var colorList = ['#BB0000', '#C21A1A', '#C93333', '#CF4D4D', '#D66666', '#DD8080', '#E49999', '#EBB3B3', '#F1CCCC', '#F8E6E6'];
                                        return colorList[params.dataIndex]
                                    }
                                }
                            }

                            // 色彩方案2-------------------------------------------------------------------------
                            // itemStyle: {
                            //     normal: {
                            //         color: function (params) {
                            //             // 设置柱状图的颜色
                            //             var colorList = [{
                            //                 colorStops: [{
                            //                     offset: 0,
                            //                     color: '#990000' // 0% 处的颜色 #FF0000
                            //                 }, {
                            //                     offset: 1,
                            //                     color: '#990000' // 100% 处的颜色 #990000
                            //                 }]
                            //             },
                            //             {
                            //                 colorStops: [{
                            //                     offset: 0,
                            //                     color: '#E9B090' // 0% 处的颜色 #00C0FA
                            //                 }, {
                            //                     offset: 1,
                            //                     color: '#E9B090' // 100% 处的颜色 #2F95FA
                            //                 }]
                            //             }
                            //             ];
                            //             if (params.dataIndex < 3) {  //前3名用colorList[0]中的颜色，后面的用colorList[1]中的颜色
                            //                 return colorList[0]
                            //             } else {
                            //                 return colorList[1]
                            //             }
                            //         },
                            //     }
                            // },
                        }]
                    });
                }
                myChart1.setOption(option1);
                window.addEventListener("resize", () => {
                    myChart1.resize();
                });
            }
        }
        xmlHTTP1.open('GET', '/uv/chinaData', true);
        xmlHTTP1.send();
    }



    // Chart2
    setTimeout(chinaScatterChart, 1000);

    function chinaScatterChart() {
        var myChart2 = echarts.init(document.getElementById('china_scatter'));

        var weeks2 = ['week 1', 'week 2', 'week 3', 'week 4', 'week 5', 'week 6', 'week 7', 'week 8', 'week 9', 'week 10', 'week 11', 'week 12', 'week 13', 'week 14', 'week 15', 'week 16', 'week 17', 'week 18', 'week 19', 'week 20', 'week 21', 'week 22', 'week 23', 'week 24', 'week 25', 'week 26'];
        var days2 = ['Saturday', 'Friday', 'Thursday',
            'Wednesday', 'Tuesday', 'Monday', 'Sunday'];

        var data2 = [[0, 0, 0], [1, 0, 0], [2, 0, 0], [3, 0, 95], [4, 0, 277], [5, 0, 486], [6, 0, 669], [0, 1, 802], [1, 1, 2632], [2, 1, 578], [3, 1, 2054], [4, 1, 1661], [5, 1, 2089], [6, 1, 4739], [0, 2, 3086], [1, 2, 3991], [2, 2, 3733], [3, 2, 3147], [4, 2, 3523], [5, 2, 2704], [6, 2, 3015], [0, 3, 2525], [1, 3, 2032], [2, 3, 1881], [3, 3, 13628], [4, 3, 6463], [5, 3, 2055], [6, 3, 2100], [0, 4, 1921], [1, 4, 1777], [2, 4, 408], [3, 4, 458], [4, 4, 473], [5, 4, 1451], [6, 4, 21], [0, 5, 219], [1, 5, 513], [2, 5, 412], [3, 5, 434], [4, 5, 328], [5, 5, 428], [6, 5, 576], [0, 6, 204], [1, 6, 125], [2, 6, 125], [3, 6, 151], [4, 6, 153], [5, 6, 80], [6, 6, 53], [0, 7, 37], [1, 7, 27], [2, 7, 34], [3, 7, 11], [4, 7, 13], [5, 7, 32], [6, 7, 26], [0, 8, 30], [1, 8, 25], [2, 8, 44], [3, 8, 54], [4, 8, 94], [5, 8, 55], [6, 8, 130], [0, 9, 63], [1, 9, 93], [2, 9, 70], [3, 9, 121], [4, 9, 115], [5, 9, 102], [6, 9, 123], [0, 10, 76], [1, 10, 81], [2, 10, 82], [3, 10, 71], [4, 10, 79], [5, 10, 32], [6, 10, 59], [0, 11, 63], [1, 11, 53], [2, 11, 91], [3, 11, 74], [4, 11, 58], [5, 11, 73], [6, 11, 120], [0, 12, 79], [1, 12, 93], [2, 12, 50], [3, 12, 47], [4, 12, 357], [5, 12, 27], [6, 12, 18], [0, 13, 12], [1, 13, 36], [2, 13, 15], [3, 13, 16], [4, 13, 15], [5, 13, 10], [6, 13, 3], [0, 14, 6], [1, 14, 22], [2, 14, 4], [3, 14, 12], [4, 14, 3], [5, 14, 0], [6, 14, 5], [0, 15, 2], [1, 15, 2], [2, 15, 2], [3, 15, 5], [4, 15, 1], [5, 15, 14], [6, 15, 20], [0, 16, 1], [1, 16, 7], [2, 16, 6], [3, 16, 5], [4, 16, 9], [5, 16, 6], [6, 16, 10], [0, 17, 9], [1, 17, 0], [2, 17, 0], [3, 17, 0], [4, 17, 18], [5, 17, 3], [6, 17, 11], [0, 18, 7], [1, 18, 1], [2, 18, 3], [3, 18, 0], [4, 18, 17], [5, 18, 5], [6, 18, 18], [0, 19, 8], [1, 19, 7], [2, 19, 0], [3, 19, 11], [4, 19, 6], [5, 19, 9], [6, 19, 5], [0, 20, 4], [1, 20, 3], [2, 20, 11], [3, 20, 7], [4, 20, 12], [5, 20, 58], [6, 20, 49], [0, 21, 43], [1, 21, 44], [2, 21, 36], [3, 21, 36], [4, 21, 0], [5, 21, 59], [6, 21, 19], [0, 22, 52], [1, 22, 29], [2, 22, 20], [3, 22, 28], [4, 22, 24], [5, 22, 18], [6, 22, 14], [0, 23, 23], [1, 23, 5], [2, 23, 31], [3, 23, 14], [4, 23, 8], [5, 23, 19], [6, 23, 14], [0, 24, 18], [1, 24, 28], [2, 24, 33], [3, 24, 42], [4, 24, 0], [5, 24, 79], [6, 24, 46], [0, 25, 0], [1, 25, 109], [2, 25, 20], [3, 25, 81], [4, 25, 75], [5, 25, 16], [6, 25, 85], [0, 26, 119], [1, 26, 86], [2, 26, 198], [3, 26, 139], [4, 26, 157], [5, 26, 179], [6, 26, 189]];

        data2 = data2.map(function (item) {
            return [item[1], item[0], item[2]];
        });

        option2 = {
            title: {
                text: 'New cases per week',
                left: "40%"
                // link: ''
            },
            // legend: {
            //     data: ['Punch Card'],
            //     left: 'right'
            // },
            tooltip: {
                position: 'top',
                formatter: function (params) {
                    return params.value[2] + ' new cases ' + days2[params.value[1]] + ' of ' + weeks2[params.value[0]];
                }
            },
            grid: {
                // left: 2,
                // bottom: 10,
                // right: 10,
                containLabel: true,
                left: -1,
            },
            xAxis: {
                type: 'category',
                data: weeks2,
                boundaryGap: false,
                splitLine: {
                    show: true,
                    lineStyle: {
                        color: '#999',
                        type: 'dashed'
                    }
                },
                axisLine: {
                    show: false
                }
            },
            yAxis: {
                type: 'category',
                data: days2,
                axisLine: {
                    show: false
                }
            },
            series: [{
                name: 'Punch Card',
                type: 'scatter',
                symbolSize: function (val) {
                    return Math.sqrt(val[2]);
                },
                data: data2,
                animationDelay: function (idx) {
                    return idx * 5;
                }
            }]
        };
        myChart2.setOption(option2);
        window.addEventListener("resize", () => {
            myChart2.resize();
        });
    }


    // Chart3
    setTimeout(chinaLineChart, 1000);

    function chinaLineChart() {
        var total_people = [];
        var death_toll = [];
        var number_of_cured = [];
        var new_daily = [];
        var date_toll = [];
        var xmlHTTP2 = new XMLHttpRequest();
        xmlHTTP2.onreadystatechange = function (ev) {
            if (xmlHTTP2.readyState == 4 && xmlHTTP2.status == 200) {
                var rep = JSON.parse(xmlHTTP2.responseText);
                for (var i = 0; i < rep.length; i++) {
                    total_people.push(rep[i].total_people);
                    death_toll.push(rep[i].death_toll);
                    number_of_cured.push(rep[i].number_of_cured);
                    new_daily.push(rep[i].new_daily);
                    date_toll.push(rep[i].date);
                }

                var myLineChart_China = echarts.init(document.getElementById('LineChart_China'));

                //表格设定
                LineChart_China_option = {
                    title: {
                        // text: "Line chart of China's epidemic trend",
                        left: "30%"
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        // 图例
                        data: ['total people', 'death toll', 'Number of cured', 'Daily new cases'],
                        top: "3%"
                    },
                    grid: {
                        // 图表相对位置
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    toolbox: {
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        // 时间轴（X轴）
                        data: date_toll
                    },
                    yAxis: {
                        type: 'value'
                    },
                    // 颜色表
                    color: ['#BB0000', '#666666', '#03A89E', '#FF8000'],
                    series: [
                        {
                            name: 'total people',
                            type: 'line',
                            smooth: true,
                            // areaStyle: {},
                            symbol: 'none',
                            // stack: '总量',
                            data: total_people
                        },
                        {
                            name: 'death toll',
                            type: 'line',
                            smooth: true,
                            // areaStyle: {},
                            symbol: 'none',
                            // stack: '总量',
                            data: death_toll
                        },
                        {
                            name: 'Number of cured',
                            type: 'line',
                            smooth: true,
                            // areaStyle: {},
                            symbol: 'none',
                            // stack: '总量',
                            data: number_of_cured
                        },
                        {
                            name: 'Daily new cases',
                            type: 'line',
                            smooth: true,
                            // areaStyle: {},
                            symbol: 'none',
                            // stack: '总量',
                            data: new_daily
                        }
                    ]
                };
                myLineChart_China.setOption(LineChart_China_option);
                window.addEventListener("resize", () => {
                    myLineChart_China.resize();
                });
            }
        }
        xmlHTTP2.open('GET', '/uv/chinaLineChart', true);
        xmlHTTP2.send();
    }

    // Chart4
    // setTimeout(getCure, 1000);
    //
    // function getCure() {
    //     var name4 = [];
    //     var value4 = [];
    //     var xmlHTTP4 = new XMLHttpRequest();
    //     xmlHTTP4.onreadystatechange = function (ev) {
    //         if (xmlHTTP4.readyState == 4 && xmlHTTP4.status == 200) {
    //             var rep = JSON.parse(xmlHTTP4.responseText);
    //             for (var i = 0; i < rep.length; i++) {
    //                 name4.push(rep[i].name);
    //                 value4.push(rep[i].value);
    //             }
    //
    //             // var myChart4 = echarts.init(document.getElementById('a'));
    //
    //             option4 = {
    //                 title: {
    //                     // text: 'Cure rate by region',
    //                     // left: '30%'
    //                     // subtext: '感染人数过万的国家中排序'
    //                 },
    //                 tooltip: {
    //                     trigger: 'axis',
    //                     axisPointer: {
    //                         type: 'shadow'
    //                     }
    //                 },
    //                 // legend: {
    //                 //   data: ['治愈率', '死亡率']
    //                 // },
    //                 grid: {
    //                     left: '3%',
    //                     right: '4%',
    //                     bottom: '5%',
    //                     containLabel: true
    //                 },
    //                 xAxis: {
    //                     type: 'value',
    //                     boundaryGap: [0, 0.01]
    //                 },
    //                 yAxis: {
    //                     type: 'category',
    //                     data: name4
    //                 },
    //                 series: [
    //                     {
    //                         name: '治愈率',
    //                         type: 'bar',
    //                         color: '#B8F2E6',
    //                         barWidth: 12,
    //                         data: value4
    //                     },
    //                     // {
    //                     //   name: '死亡率',
    //                     //   type: 'bar',
    //                     //   color: '#5E6472',
    //                     //   data: [0.006054490413723511, 0.012311901504787962, 0.010309278350515464, 0.002785515320334262, 0.013422818791946308, 0.004987531172069825, 0.007874015748031496, 0.013605442176870748, 0.03529411764705882, 0.017857142857142856, 0.013771186440677966, 0.017241379310344827, 0.0036133694670280035, 0.06622147207749321, 0.003925417075564278, 0.0, 0.001072961373390558, 0.012903225806451613, 0.013422818791946308, 0.0, 0.004219409282700422, 0.0, 0.0, 0.00964630225080386, 0.008838383838383838, 0.01032448377581121, 0.0, 0.0051635111876075735, 0.01580135440180587, 0.015384615384615385, 0.039473684210526314, 0.0, 0.010810810810810811, 0.0007886435331230284]
    //                     // }
    //                 ]
    //             };
    //             // myChart4.setOption(option4);
    //             // window.addEventListener("resize", () => {
    //             //     myChart4.resize();
    //             // });
    //         }
    //     }
    //     xmlHTTP4.open('GET', '/uv/chinaCure', true);
    //     xmlHTTP4.send();
    // }


    // Chart5
    setTimeout(getDeath, 1000);

    function getDeath() {
        var province5 = [];
        var death5 = [];
        var xmlHTTP5 = new XMLHttpRequest();
        xmlHTTP5.onreadystatechange = function (ev) {
            if (xmlHTTP5.readyState == 4 && xmlHTTP5.status == 200) {
                var rep = JSON.parse(xmlHTTP5.responseText);
                for (var i = 0; i < rep.length; i++) {
                    province5.push(rep[i].name);
                    death5.push(rep[i].value);
                }

                var myChart5 = echarts.init(document.getElementById('china_mortality_rate'));

                option5 = {
                    title: {
                        // text: 'Death rate by region',
                        // left: '40%',
                        // subtext: '感染人数过万的国家中排序'
                    },
                    tooltip: {
                        trigger: 'axis',
                        axisPointer: {
                            type: 'shadow'
                        }
                    },
                    // legend: {
                    //   data: ['治愈率', '死亡率']
                    // },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '5%',
                        containLabel: true
                    },
                    xAxis: {
                        type: 'value',
                        boundaryGap: [0, 0.01]
                    },
                    yAxis: {
                        type: 'category',
                        data: province5
                    },
                    series: [
                        // {
                        //   name: '治愈率',
                        //   type: 'bar',
                        //   color: '#B8F2E6',
                        //   barWidth: 12,
                        //   data: [0.9939455095862765, 0.79890560875513, 0.9845360824742269, 0.9916434540389972, 0.9194630872483222, 0.9894014962593516, 0.9921259842519685, 0.9863945578231292, 0.9529411764705882, 0.9583333333333334, 0.6398305084745762, 0.9827586206896551, 0.9494128274616079, 0.9337785279225068, 0.9960745829244357, 0.9908116385911179, 0.9989270386266095, 0.9870967741935484, 0.9865771812080537, 1.0, 0.9704641350210971, 1.0, 1.0, 0.9807073954983923, 0.9861111111111112, 0.9793510324483776, 0.8934010152284264, 0.9604130808950087, 0.9729119638826185, 0.9692307692307692, 0.9473684210526315, 1.0, 0.9783783783783784, 0.9976340694006309]
                        // },
                        {
                            name: '死亡率',
                            type: 'bar',
                            color: '#5E6472',
                            barWidth: 12,
                            data: death5
                        }
                    ]
                };
                myChart5.setOption(option5);
                window.addEventListener("resize", () => {
                    myChart5.resize();
                });
            }
        }
        xmlHTTP5.open('GET', '/uv/chinaDeath', true);
        xmlHTTP5.send();
    }
</script>

<script src="../assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
<!-- IMPORTANT! Load jquery-ui.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
<script src="../assets/global/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js"
        type="text/javascript"></script>
<script src="../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<script src="../assets/global/scripts/metronic.js" type="text/javascript"></script>
<script src="../assets/admin/layout4/scripts/layout.js" type="text/javascript"></script>
<script src="../assets/admin/layout4/scripts/demo.js" type="text/javascript"></script>
<script>
    jQuery(document).ready(function () {
        Metronic.init(); // init metronic core components
        Layout.init(); // init current layout
        Demo.init(); // init demo features
    });
</script>
<!-- END JAVASCRIPTS -->
<script type="text/javascript" src="../assets/global/scripts/canvas-nest.js"></script>
<canvas id="c_n1"></canvas>
</body>
<!-- END BODY -->

</html>